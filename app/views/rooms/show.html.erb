<div class="container mt-4">
  <!-- Título -->
  <h1 class="main-title">Quédate en una habitación de <%= @room.user.first_name %> </h1>

  <div class="row">
    <!-- Imágenes de la habitación -->
    <div class="col-12">
      <div class="image-container d-flex rounded">
        <!-- Imagen grande -->
        <div class="main-image w-50 pe-2">
          <img src="<%= image_path 'image1.webp' %>" class="img-fluid rounded-start" alt="Living Room">
        </div>
        <!-- Imágenes pequeñas -->
        <div class="secondary-images w-50 ps-2">
          <div class="row g-2">
            <div class="col-6">
              <img src="<%= image_path 'image1.webp' %>" class="img-fluid rounded" alt="Bedroom">
            </div>
            <div class="col-6">
              <img src="<%= image_path 'image1.webp' %>" class="img-fluid rounded" alt="Light Fixture">
            </div>
            <div class="col-6">
              <img src="<%= image_path 'image1.webp' %>" class="img-fluid rounded" alt="Bathroom">
            </div>
            <div class="col-6">
              <img src="<%= image_path 'image1.webp' %>" class="img-fluid rounded" alt="Decoration">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Detalles y formulario divididos en dos columnas -->
  <div class="row mt-4">
    <!-- Lado izquierdo: Detalles de la habitación -->
    <div class="col-md-8">
      <p class="location">Habitación en <%= @room.address %> | <%= @room.name %></p>
      <p class="details"><%= @room.capacity_max %> camas · Baño privado en la habitación</p>
      <div class="d-flex align-items-center mb-3">
        <i class="fa fa-star"></i>
        <span class="ms-2 review">
          <%= @room.average_rating %> ·<%= link_to "#{rand(30..80)} reseñas", '#reviews-section', class: 'ms-2' %>
        </span>
      </div>
      <hr>
      <!-- Información del anfitrión -->
      <div class="host-info d-flex align-items-center">
        <img src="<%= image_path 'image1.webp' %>" class="avatar me-3" alt="Hiroki">
        <div>
          <p class="host-name">Anfitrión: <%= @room.user.first_name %> <%= @room.user.last_name %></p>
          <p class="host-years"><%= rand(1..15) %> años anfitrionando</p>
        </div>
      </div>
      <hr>
    </div>

    <!-- Lado derecho: Formulario de reserva -->
    <div class="col-md-4">
      <div class="card p-3">
        <div class="d-flex align-items-baseline mb-3">
          <h3>S/159</h3>
          <span class="ms-2">noche</span>
        </div>
        <div class="mb-2">
          <label for="check-in">Llegada</label>
          <input type="date" class="form-control" id="check-in" value="2024-11-14">
        </div>
        <div class="mb-2">
          <label for="check-out">Salida</label>
          <input type="date" class="form-control" id="check-out" value="2024-11-19">
        </div>
        <div class="mb-2">
          <label for="guests">Huéspedes</label>
          <select class="form-select" id="guests">
            <option value="1">1 huésped</option>
            <option value="2">2 huéspedes</option>
            <option value="3">3 huéspedes</option>
          </select>
        </div>
        <!-- Botón de Reservar -->
        <%= link_to 'Reservar', new_room_booking_path(room_id: @room.id), class: 'btn btn-primary' %>
      </div>
    </div>
  </div>

  <!-- Sección de reseñas -->
  <div id="reviews-section" class="row mt-4">
    <% @room.reviews.each do |review| %>
      <div class="col-md-6 mb-4">
        <div class="d-flex">
          <!-- Avatar y nombre del usuario -->
          <img src="<%= image_path 'image1.webp' %>" class="avatar me-3" alt="<%= review.booking.user.first_name %>">
          <div>
            <p class="reviewer-name"><%= review.booking.user.first_name %> <%= review.booking.user.last_name %></p>
            <p><%= rand(0..15) %> años en Airbnb</p>
          </div>
        </div>
        <!-- Reseña y calificación -->
        <div>
          <p>Calificación: <%= review.rating %> estrellas</p>
          <% random_year = Time.zone.now.year - rand(1..15) %>
          <% random_month = rand(1..12) %>
          <p class="review-date"><%= Date.new(random_year, random_month).strftime("%B de %Y") %></p>
          <p class="review-text"><%= review.comment %></p>
        </div>
        <hr>
      </div>
    <% end %>
  </div>
</div>
